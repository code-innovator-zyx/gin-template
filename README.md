# Gin Web åº”ç”¨æ¡†æ¶æ¨¡æ¿

ä¸€ä¸ªåŸºäº Gin æ¡†æ¶çš„ä¼ä¸šçº§ Web åº”ç”¨æ¨¡æ¿ï¼Œé›†æˆäº†å¸¸ç”¨åŠŸèƒ½å’Œæœ€ä½³å®è·µï¼Œä¸ºå¿«é€Ÿå¼€å‘é«˜è´¨é‡ Go åç«¯åº”ç”¨æä¾›åšå®åŸºç¡€ã€‚

## æ ¸å¿ƒç‰¹æ€§

- **æ¨¡å—åŒ–æ¶æ„**ï¼šæ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œä¸¥æ ¼çš„å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
- **é…ç½®ç®¡ç†**ï¼šåŸºäº Viper çš„é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒå¤šç¯å¢ƒé…ç½®å’Œçƒ­åŠ è½½
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šé›†æˆ Logrus æ—¥å¿—åº“ï¼Œæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ã€æ—¥å¿—çº§åˆ«å’Œæ–‡ä»¶è½®è½¬
- **ä¸­é—´ä»¶é›†æˆ**ï¼šå†…ç½®å¸¸ç”¨ä¸­é—´ä»¶ï¼ˆè¯·æ±‚æ—¥å¿—ã€å¼‚å¸¸æ¢å¤ã€CORSã€JWT è®¤è¯ç­‰ï¼‰
- **æ•°æ®åº“æ”¯æŒ**ï¼šåŸºäº GORM çš„æ•°æ®åº“æ“ä½œï¼Œæ”¯æŒå¤šç§æ•°æ®åº“å’Œè¿ç§»ç®¡ç†
- **API æ–‡æ¡£**ï¼šé›†æˆ Swagger è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£
- **ç”¨æˆ·è®¤è¯**ï¼šå®Œæ•´çš„ JWT è®¤è¯æœºåˆ¶å®ç°
- **æ ‡å‡†åŒ–å“åº”**ï¼šç»Ÿä¸€çš„ API å“åº”æ ¼å¼å’Œé”™è¯¯å¤„ç†
- **å¥åº·æ£€æŸ¥**ï¼šå†…ç½®å¥åº·æ£€æŸ¥æ¥å£ï¼Œä¾¿äºç›‘æ§å’Œéƒ¨ç½²

## RBACæƒé™æ§åˆ¶è®¾è®¡

æœ¬é¡¹ç›®é‡‡ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRole-Based Access Controlï¼ŒRBACï¼‰æ¨¡å‹ï¼Œå®ç°äº†çµæ´»è€Œé«˜æ•ˆçš„æƒé™ç®¡ç†ç³»ç»Ÿã€‚

### æ ¸å¿ƒæ¨¡å‹è®¾è®¡

#### 1. ç”¨æˆ·ï¼ˆUserï¼‰
- ç³»ç»Ÿçš„æ“ä½œä¸»ä½“ï¼Œå¯ä»¥è¢«åˆ†é…ä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰²
- ç”¨æˆ·é€šè¿‡è§’è‰²é—´æ¥è·å–æƒé™ï¼Œè€Œä¸æ˜¯ç›´æ¥åˆ†é…æƒé™ï¼Œç®€åŒ–äº†æƒé™ç®¡ç†

#### 2. è§’è‰²ï¼ˆRoleï¼‰
- æƒé™çš„é›†åˆï¼Œä½œä¸ºç”¨æˆ·å’Œæƒé™ä¹‹é—´çš„æ¡¥æ¢
- æ”¯æŒå¤šè§’è‰²åˆ†é…ï¼Œæ»¡è¶³å¤æ‚çš„ç»„ç»‡ç»“æ„éœ€æ±‚
- è§’è‰²å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»åˆ›å»ºå’Œè°ƒæ•´

#### 3. æƒé™ï¼ˆPermissionï¼‰
- ä»£è¡¨ç³»ç»Ÿä¸­çš„æ“ä½œæƒé™ï¼Œæ˜¯æƒé™æ§åˆ¶çš„æœ€å°ç²’åº¦
- æ¯ä¸ªæƒé™é€šè¿‡å”¯ä¸€çš„ç¼–ç ï¼ˆCodeï¼‰æ ‡è¯†ï¼Œä¾¿äºç¨‹åºé€»è¾‘åˆ¤æ–­
- æƒé™ä¸èµ„æºæ˜¯ä¸€å¯¹å¤šå…³ç³»ï¼Œä¸€ä¸ªæƒé™å¯ä»¥ç®¡ç†å¤šä¸ªAPIèµ„æº

#### 4. èµ„æºï¼ˆResourceï¼‰
- ä»£è¡¨ç³»ç»Ÿä¸­çš„APIæ¥å£èµ„æº
- æ¯ä¸ªèµ„æºç”±è·¯å¾„ï¼ˆPathï¼‰å’ŒHTTPæ–¹æ³•ï¼ˆMethodï¼‰å”¯ä¸€æ ‡è¯†
- èµ„æºå¯ä»¥è¢«æƒé™ç»„ç®¡ç†ï¼Œä¹Ÿå¯ä»¥å¤„äºæœªç®¡ç†çŠ¶æ€
- **å®‰å…¨ä¼˜å…ˆåŸåˆ™**ï¼šæœªè¢«æƒé™ç»„ç®¡ç†çš„èµ„æºï¼ˆæ¸¸ç¦»çŠ¶æ€ï¼‰é»˜è®¤æ— æ³•è¢«ä»»ä½•ç”¨æˆ·è®¿é—®ï¼Œç¡®ä¿APIå®‰å…¨

### å…³ç³»æ¨¡å‹

1. **ç”¨æˆ·-è§’è‰²**ï¼šå¤šå¯¹å¤šå…³ç³»ï¼Œé€šè¿‡`user_roles`å…³è”è¡¨å®ç°
2. **è§’è‰²-æƒé™**ï¼šå¤šå¯¹å¤šå…³ç³»ï¼Œé€šè¿‡`role_permissions`å…³è”è¡¨å®ç°
3. **æƒé™-èµ„æº**ï¼šä¸€å¯¹å¤šå…³ç³»ï¼Œèµ„æºé€šè¿‡`permission_id`å¤–é”®å…³è”åˆ°æƒé™

### è®¾è®¡ä¼˜åŠ¿

1. **ç®€åŒ–çš„æƒé™åˆ†é…**
   - é€šè¿‡è§’è‰²æ‰¹é‡åˆ†é…æƒé™ï¼Œå‡å°‘æƒé™ç®¡ç†çš„å¤æ‚åº¦
   - ç”¨æˆ·æƒé™å˜æ›´åªéœ€è°ƒæ•´è§’è‰²åˆ†é…ï¼Œæ— éœ€é€ä¸€ä¿®æ”¹æƒé™

2. **ç²¾ç»†çš„æƒé™æ§åˆ¶**
   - åŸºäºAPIè·¯å¾„å’ŒHTTPæ–¹æ³•çš„ç²¾ç¡®æƒé™æ§åˆ¶
   - æ”¯æŒåŠ¨æ€è¯†åˆ«å’Œç®¡ç†æ–°å¢çš„APIæ¥å£

3. **é«˜æ€§èƒ½è®¾è®¡**
   - åˆç†çš„æ•°æ®åº“ç´¢å¼•è®¾è®¡ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡
   - ä¼˜åŒ–çš„æƒé™æ£€æŸ¥SQLï¼Œå‡å°‘è¡¨è¿æ¥æ¬¡æ•°

4. **çµæ´»çš„èµ„æºç®¡ç†**
   - èµ„æºå¯ä»¥åŠ¨æ€ç»‘å®šåˆ°æƒé™ç»„ï¼Œä¹Ÿå¯ä»¥è§£ç»‘æˆæœªç®¡ç†çŠ¶æ€
   - æ”¯æŒç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æ‰«æå’Œæ›´æ–°APIèµ„æº

5. **å®‰å…¨ä¼˜å…ˆç­–ç•¥**
   - é‡‡ç”¨"é»˜è®¤æ‹’ç»"çš„å®‰å…¨åŸåˆ™ï¼Œæœªæ˜ç¡®æˆæƒçš„èµ„æºä¸å¯è®¿é—®
   - èµ„æºå¿…é¡»è¢«æƒé™ç»„ç®¡ç†ä¸”åˆ†é…æƒé™åæ‰èƒ½è¢«è®¿é—®
   - æ¸¸ç¦»çŠ¶æ€çš„èµ„æºï¼ˆæœªè¢«ç®¡ç†æˆ–æœªåˆ†é…æƒé™ç»„ï¼‰å¯¹æ‰€æœ‰ç”¨æˆ·ä¸å¯è§

6. **äº‹åŠ¡å®‰å…¨**
   - å…³é”®æ“ä½œï¼ˆå¦‚åˆ é™¤è§’è‰²ï¼‰é‡‡ç”¨äº‹åŠ¡å¤„ç†ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§
   - çº§è”åˆ é™¤ç›¸å…³æ•°æ®ï¼Œé¿å…å‡ºç°å­¤ç«‹æ•°æ®

7. **å¯æ‰©å±•æ€§**
   - æ¸…æ™°çš„æ¨¡å‹è¾¹ç•Œï¼Œä¾¿äºæ‰©å±•æ–°çš„æƒé™æ§åˆ¶éœ€æ±‚
   - æ”¯æŒæœªæ¥æ·»åŠ æ›´å¤æ‚çš„æƒé™è§„åˆ™å’Œæ¡ä»¶

### æƒé™éªŒè¯æµç¨‹

1. ç”¨æˆ·è¯·æ±‚APIæ¥å£
2. ä¸­é—´ä»¶æ‹¦æˆªè¯·æ±‚ï¼Œæå–ç”¨æˆ·IDã€è¯·æ±‚è·¯å¾„å’ŒHTTPæ–¹æ³•
3. **é¦–å…ˆæ£€æŸ¥èµ„æºçŠ¶æ€**ï¼š
   - å¦‚æœèµ„æºæœªè¢«ç®¡ç†ï¼ˆ`is_managed=false`ï¼‰æˆ–æœªåˆ†é…æƒé™ç»„ï¼ˆ`permission_id=0`ï¼‰ï¼Œç›´æ¥æ‹’ç»è®¿é—®
   - åªæœ‰è¢«æ˜ç¡®ç®¡ç†ä¸”åˆ†é…äº†æƒé™ç»„çš„èµ„æºæ‰ä¼šè¿›å…¥ä¸‹ä¸€æ­¥éªŒè¯
4. æŸ¥è¯¢ç”¨æˆ·â†’è§’è‰²â†’æƒé™â†’èµ„æºçš„å…³è”å…³ç³»
5. åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®è¯·æ±‚çš„èµ„æº
6. æ ¹æ®éªŒè¯ç»“æœå…è®¸æˆ–æ‹’ç»è®¿é—®

### å®ç°ç»†èŠ‚

- ä½¿ç”¨GORMè¿›è¡ŒORMæ˜ å°„ï¼Œç®€åŒ–æ•°æ®åº“æ“ä½œ
- ä¸ºå…³é”®å­—æ®µæ·»åŠ ç´¢å¼•ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- é‡‡ç”¨é¢„åŠ è½½æŠ€æœ¯å‡å°‘N+1æŸ¥è¯¢é—®é¢˜
- æƒé™æ£€æŸ¥ä½¿ç”¨ä¼˜åŒ–çš„åŸç”ŸSQLï¼Œå‡å°‘è¡¨è¿æ¥æ¬¡æ•°
- ä¸¤é˜¶æ®µæƒé™éªŒè¯ï¼Œç¡®ä¿APIå®‰å…¨æ€§

## è¯¦ç»†ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ docs/               # API æ–‡æ¡£
â”‚   â”œâ”€â”€ v1_docs.go      # Swagger æ–‡æ¡£å®šä¹‰
â”‚   â”œâ”€â”€ v1_swagger.json # Swagger JSON æ–‡ä»¶
â”‚   â””â”€â”€ v1_swagger.yaml # Swagger YAML æ–‡ä»¶
â”œâ”€â”€ internal/           # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶å’Œé…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ app.yaml    # åº”ç”¨é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ config.go   # é…ç½®åŠ è½½å’Œç®¡ç†
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ global.go   # å…¨å±€å˜é‡
â”‚   â”‚   â””â”€â”€ initialize.go # åº”ç”¨åˆå§‹åŒ–
â”‚   â”œâ”€â”€ handler/        # è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ router.go   # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ v1/         # ç‰ˆæœ¬1 APIå¤„ç†å™¨
â”‚   â”œâ”€â”€ logic/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ v1/         # ç‰ˆæœ¬1 ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ cors.go     # è·¨åŸŸä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ jwt.go      # JWT è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ permission.go # æƒé™ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ model/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ rbac/       # RBACæ¨¡å‹
â”‚   â”‚   â””â”€â”€ user.go     # ç”¨æˆ·æ¨¡å‹
â”‚   â””â”€â”€ service/        # ä¸šåŠ¡æœåŠ¡
â”‚       â”œâ”€â”€ rbac_service.go # RBACæœåŠ¡
â”‚       â””â”€â”€ user_service.go # ç”¨æˆ·æœåŠ¡
â”œâ”€â”€ pkg/                # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ cache/          # ç¼“å­˜ é…ç½®
â”‚   â”‚   â””â”€â”€ redis.go    # redis é…ç½®
â”‚   â”œâ”€â”€ logger/         # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ logger.go   # æ—¥å¿—é…ç½®
â”‚   â”œâ”€â”€ response/       # å“åº”å·¥å…·
â”‚   â”‚   â””â”€â”€ response.go # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”œâ”€â”€ orm/            # ORM é…ç½®
â”‚   â”‚   â””â”€â”€ gorm.go     # GORM é…ç½®

â”‚   â””â”€â”€ utils/          # é€šç”¨å·¥å…·
â”‚       â””â”€â”€ jwt.go      # JWT å·¥å…·

â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ router.go       # ä¸»è·¯ç”±
â”‚   â””â”€â”€ v1/             # ç‰ˆæœ¬ 1 è·¯ç”±
â”‚       â”œâ”€â”€ routes.go   # è·¯ç”±æ³¨å†Œ
â”‚       â””â”€â”€ user/       # ç”¨æˆ·è·¯ç”±
â”œâ”€â”€ scripts/            # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ Makefile            # é¡¹ç›®ç®¡ç†å‘½ä»¤
â”œâ”€â”€ main.go             # åº”ç”¨å…¥å£
â”œâ”€â”€ go.mod              # Go æ¨¡å—å®šä¹‰
â””â”€â”€ README.md           # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

> ğŸ’¡ **æç¤º**ï¼šè¯¦ç»†çš„å¿«é€Ÿå¼€å§‹æŒ‡å—è¯·æŸ¥çœ‹ [QUICK_START.md](./QUICK_START.md)

### å‰ç½®æ¡ä»¶

- Go 1.20+
- MySQL 5.7+ æˆ–å…¶ä»–æ”¯æŒçš„æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰
- Redis 5.0+ï¼ˆå¯é€‰ï¼‰

### å®‰è£…

1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/gin-template.git
cd gin-template
```

2. **é‡å‘½åé¡¹ç›®ï¼ˆæ¨èï¼‰**

ğŸ¯ ä¸€é”®é‡å‘½åé¡¹ç›®åç§°å’Œæ‰€æœ‰ä¾èµ–ï¼š

```bash
make rename NEW_NAME=your-project-name

# ä¾‹å¦‚ï¼š
make rename NEW_NAME=blog-api
```

è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨æ›´æ–°ï¼š
- âœ… `go.mod` æ¨¡å—å
- âœ… æ‰€æœ‰ Go æ–‡ä»¶çš„ import è·¯å¾„
- âœ… `Makefile` åº”ç”¨åç§°
- âœ… `docker-compose.yml` å®¹å™¨åç§°
- âœ… æ‰€æœ‰æ–‡æ¡£ä¸­çš„é¡¹ç›®åç§°

> ğŸ“– è¯¦ç»†çš„é‡å‘½åæŒ‡å—è¯·æŸ¥çœ‹ [RENAME_GUIDE.md](./RENAME_GUIDE.md)

3. å®‰è£…ä¾èµ–

```bash
go mod tidy
```

4. é…ç½®åº”ç”¨
```bash
make init-config
# æˆ–æ‰‹åŠ¨å¤åˆ¶
cp app.yaml.template app.yaml
```

ç¼–è¾‘ `app.yaml` æ–‡ä»¶é…ç½®æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰å’Œå…¶ä»–é€‰é¡¹ã€‚

5. è¿è¡Œåº”ç”¨

```bash
# ç›´æ¥è¿è¡Œ
go run main.go

# æˆ–ä½¿ç”¨ Makefile
make run
```

åº”ç”¨å°†åœ¨ `http://localhost:8080` å¯åŠ¨ã€‚

### ä½¿ç”¨ Makefile

é¡¹ç›®æä¾›äº†å®Œæ•´çš„ Makefile æ¥ç®€åŒ–å¸¸ç”¨æ“ä½œï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# é‡å‘½åé¡¹ç›®ï¼ˆç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼‰
make rename NEW_NAME=your-project-name

# åˆå§‹åŒ–é…ç½®æ–‡ä»¶
make init-config

# è¿è¡Œåº”ç”¨
make run

# æ„å»ºåº”ç”¨
make build

# ç”Ÿæˆ API æ–‡æ¡£
make swagger

# è¿è¡Œæµ‹è¯•
make test

# è¿è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹è¦†ç›–ç‡
make test-coverage

# æ¸…ç†æ„å»ºæ–‡ä»¶
make clean

# Dockerç›¸å…³
make docker-build    # æ„å»ºDockeré•œåƒ
make up              # å¯åŠ¨docker-compose
make down            # åœæ­¢docker-compose
```

## API æ–‡æ¡£

é¡¹ç›®é›†æˆäº† Swagger æ–‡æ¡£ï¼Œå¯åŠ¨åº”ç”¨åå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

```
http://localhost:8080/swagger/index.html
```

## é¡¹ç›®æ‰©å±•æŒ‡å—

### æ·»åŠ æ–° API æ¥å£

1. åœ¨ `api/v1/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ§åˆ¶å™¨
2. åœ¨ `internal/service/` ä¸­å®ç°ä¸šåŠ¡é€»è¾‘
3. åœ¨ `router/v1/routes.go` ä¸­æ³¨å†Œè·¯ç”±

### æ·»åŠ æ–°æ¨¡å‹

1. åœ¨ `internal/model/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ¨¡å‹æ–‡ä»¶
2. åœ¨æ¨¡å‹ä¸­å®šä¹‰è¡¨ç»“æ„å’Œå…³è”å…³ç³»
3. åœ¨åº”ç”¨åˆå§‹åŒ–æ—¶æ³¨å†Œæ¨¡å‹

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å®Œå–„è¿™ä¸ªæ¨¡æ¿ã€‚

## è®¸å¯è¯

[MIT License](LICENSE)


### è·¯ç”±æ³¨å†Œè®¾è®¡

åœ¨ `gin-template` é¡¹ç›®ä¸­ï¼Œè·¯ç”±çš„æ³¨å†Œé‡‡ç”¨äº†é›†ä¸­ç®¡ç†çš„è®¾è®¡æ¨¡å¼ï¼Œæ‰€æœ‰è·¯ç”±çš„æ³¨å†Œé€»è¾‘é€šè¿‡ `core.RegisterRoutes()` æ–¹æ³•ç»Ÿä¸€å¤„ç†ã€‚

#### è®¾è®¡æ€è·¯
1. **é›†ä¸­ç®¡ç†**ï¼šé€šè¿‡ `core.RegisterRoutes()` æ–¹æ³•ï¼Œå°†æ‰€æœ‰è·¯ç”±æ³¨å†Œåˆ°èµ„æºè¡¨ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†å’Œæ‰©å±•ã€‚
2. **æ¨¡å—åŒ–**ï¼šå„æ¨¡å—çš„è·¯ç”±æ³¨å†Œé€»è¾‘åˆ†æ•£åœ¨å¯¹åº”çš„ `routegroup` æˆ– `handler` å±‚ï¼Œ`core.RegisterRoutes()` è´Ÿè´£è°ƒç”¨è¿™äº›æ¨¡å—çš„æ³¨å†Œæ–¹æ³•ã€‚
3. **æ‰©å±•æ€§**ï¼šæ”¯æŒæœªæ¥å¯¹è·¯ç”±æ³¨å†Œé€»è¾‘çš„å¢å¼ºï¼Œä¾‹å¦‚åŠ¨æ€åŠ è½½ã€æƒé™æ ¡éªŒç­‰ã€‚

#### å®ç°æ–¹å¼
åœ¨ `internal/routegroup/auth_group.go` ä¸­å®ç° `RegisterRoutes()` æ–¹æ³•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```go
package routegroup
//

import (
   "gin-template/internal/model/rbac"
   "github.com/sirupsen/logrus"
   "path"
   "sync"

   "github.com/gin-gonic/gin"
)

// RegisterRoutes æ³¨å†Œéœ€è¦è®¤è¯çš„è·¯ç”±åˆ°èµ„æºè¡¨
func RegisterRoutes() {
   mu.Lock()
   defer mu.Unlock()
   // å°†è·¯ç”±æ·»åŠ åˆ°ç³»ç»Ÿèµ„æº
   err := rbac.UpsertResource(protectedRoutes)
   if err != nil {
      // å› ä¸ºè¿™æ˜¯åœ¨å¯åŠ¨æ—¶æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å› ä¸ºä¸€ä¸ªè·¯ç”±æ³¨å†Œå¤±è´¥å°±å¯¼è‡´æ•´ä¸ªæœåŠ¡æ— æ³•å¯åŠ¨
      logrus.Error("Failed to register route as resource: " + err.Error())
   }

   logrus.Info("Successfully registered routes to resource table")
}

```

#### ä¼˜åŒ–ç‚¹
1. **åŠ¨æ€è·¯ç”±**ï¼šæœªæ¥å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ•°æ®åº“åŠ¨æ€åŠ è½½è·¯ç”±ã€‚
2. **æ—¥å¿—è®°å½•**ï¼šå¢åŠ æ—¥å¿—è¾“å‡ºï¼Œè®°å½•æ³¨å†Œçš„è·¯ç”±ä¿¡æ¯ã€‚
3. **æ–‡æ¡£å®Œå–„**ï¼šä¸ºæ¯ä¸ªæ¨¡å—çš„è·¯ç”±æ³¨å†Œé€»è¾‘å¢åŠ æ³¨é‡Šï¼Œæ–¹ä¾¿å¼€å‘è€…ç†è§£ã€‚